import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# 1) Load data
df = pd.read_csv("patients.csv")

# 2) Display first rows
print("\n--- FIRST 5 ROWS ---")
print(df.head())

# 3) Basic statistics
print("\n--- BASIC STATS ---")
print("Average Age:", df["age"].mean())
print("Average Satisfaction:", df["satisfaction"].mean())
print("Total Patients:", len(df))

# 4) Count patients per service
service_counts = df["service"].value_counts()
print("\n--- PATIENTS PER SERVICE ---")
print(service_counts)

# 5) Bar plot: service vs count
plt.figure(figsize=(6,4))
service_counts.plot(kind="bar")
plt.title("Number of Patients per Service")
plt.xlabel("Service")
plt.ylabel("Count")
plt.show()

# 6) Scatter: Age vs Satisfaction
plt.figure(figsize=(6,4))
plt.scatter(df["age"], df["satisfaction"])
plt.title("Age vs Satisfaction")
plt.xlabel("Age")
plt.ylabel("Satisfaction")
plt.show()

# 7) Correlation heatmap (only numeric columns)
plt.figure(figsize=(5,4))
sns.heatmap(df[["age","satisfaction"]].corr(), annot=True, cmap="coolwarm")
plt.title("Correlation Heatmap")
plt.show()
